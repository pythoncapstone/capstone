<LINK href="{{ STATIC_URL }}styles/site.css" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Oxygen+Mono' rel='stylesheet' type='text/css'>
<script type="text/javascript" src="{{ STATIC_URL }}js/jquery.min.js"></script>


<img src="images/python-instruc-logo.png" class="shadow" width="376" height="148" alt="logo">

<div id="MainArea">
        <p>Enter your Python snippet below or select an example.<br/>
           <a>Simple Example</a> or <a>Method Example</a> or <a>Stolen Example</a>
        </p>
        <div class="PythonCodeWrap">
                <input id="startDebugging" type="button" value="Start Debugging">
                <textarea name="PythonCode" id="PythonCode"></textarea>
                <textarea id="MethodCalls" readonly="readonly"></textarea>
        </div>

        <div class="DebugResultWrap">
                <input id="TakeStep" type="button" value="Next Step">
                <textarea id="ResultData" readonly="readonly"></textarea>
        </div>
</div>

<script type="text/javascript">
	$('#startDebugging').click(function() {
		pythonCode = { pythonCode: $('#PythonCode').val() + '\n' + $('#MethodCalls').val() };
		$.get('/student/startDebugging', pythonCode, function(data) {
			displayResultData(data)
 		});
	});

	$("#TakeStep").click(function() {
	  $.get('/student/takeStep', function(data) {
			displayResultData(data)
 		});
	});

	var displayResultData = function(data) {
		$('#ResultData').text(data.exception + data.localVars + data.lineNumber);
	}
</script>

<script type="text/javascript">
	
	$('#MainArea a').click(function() {
		var forMainArea = [];
		var forMethodArea = [];

		forMainArea['Simple Example'] = 'a = 3\nb = 4\nc = a + b\nd = a + b * c';
		forMainArea['Method Example'] = 'Tim="Tim"\ndef hello(name):\n\treturn "Hello " + name\n';
		forMainArea['Method Example'] += 'Tim = hello(Tim)\nSeth = "Seth"\nSeth= hello(Seth)';
		forMainArea['Stolen Example'] = 'def sleep_in(weekday, vacation):'
		forMethodArea['Stolen Example'] = 'sleep_in(False, False)\n'
		forMethodArea['Stolen Example'] += 'sleep_in(True, False)\n'
		forMethodArea['Stolen Example'] += 'sleep_in(False, True)\n'
		forMethodArea['Stolen Example'] += 'sleep_in(True, True)'


		var exampleToUse = $(this).text()	
		$('#PythonCode').text(forMainArea[exampleToUse]);
		$('#MethodCalls').text(forMethodArea[exampleToUse]);
	});

</script>